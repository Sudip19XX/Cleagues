/* Sidebar Styles */

.sidebar {
    position: fixed;
    left: 0;
    top: 64px;
    /* Below navbar */
    bottom: 0;
    width: 200px;
    background: var(--color-bg-secondary);
    border-right: 1px solid var(--color-border);
    overflow-y: auto;
    z-index: 50;
    transition: transform var(--transition-base);
}

.sidebar-content {
    padding: var(--spacing-md) var(--spacing-sm);
    padding-bottom: 40px;
    /* Room for pinned indicator */
    display: flex;
    flex-direction: column;
    height: 100%;
    position: relative;
}

.sidebar-section {
    margin-bottom: var(--spacing-xl);
}

.sidebar-category {
    margin-bottom: var(--spacing-lg);
}

.sidebar-category-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-xs);
    font-size: calc(0.9rem + 2px);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-sm);
}

.sidebar-category-header svg {
    opacity: 0.6;
}

.sidebar-links {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.sidebar-link {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-xs);
    border-radius: 8px;
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all var(--transition-base);
    cursor: pointer;
}

.sidebar-link:hover {
    background: var(--glass-bg);
    color: var(--color-text-primary);
}

.sidebar-link.active {
    background: rgba(255, 255, 255, 0.12);
    color: var(--color-primary);
    border-right: 3px solid var(--color-primary);
    padding-right: calc(var(--spacing-md) - 3px);
    box-shadow:
        0 2px 8px rgba(9, 194, 133, 0.2),
        0 0 20px rgba(9, 194, 133, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.sidebar-link svg {
    flex-shrink: 0;
    opacity: 0.7;
}

.sidebar-link.active svg {
    opacity: 1;
    stroke: var(--color-primary);
}

/* Sidebar Footer */
.sidebar-footer {
    margin-top: auto;
    padding: var(--spacing-xs) var(--spacing-sm);
    border-top: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.sidebar-footer-link {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
    padding: 4px;
    color: var(--color-text-muted);
    text-decoration: none;
    font-size: 0.75rem;
    font-weight: 500;
    transition: all var(--transition-base);
    border-radius: 6px;
}

.sidebar-footer-link:hover {
    color: var(--color-text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.sidebar-footer-link svg {
    flex-shrink: 0;
    opacity: 0.6;
}

/* Main content adjustment for sidebar */
.app-container {
    display: flex;
    min-height: 100vh;
    padding-top: 64px;
    /* Navbar height */
}

.main-content {
    flex: 1;
    margin-left: 200px;
    /* Sidebar width */
    transition: margin-left var(--transition-base);
}

/* Responsive */
@media (max-width: 768px) {
    .sidebar {
        transform: none;
        top: auto;
        bottom: 0;
        width: 100%;
        height: auto;
        min-height: calc(60px + var(--safe-area-bottom));
        border-right: none;
        border-top: 1px solid var(--glass-border);
        background: rgba(15, 23, 42, 0.95);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        padding-bottom: var(--safe-area-bottom);
        z-index: 1000;
    }

    .sidebar-content {
        padding: 0;
        flex-direction: row;
        width: 100%;
        height: 100%;
        overflow-x: auto;
        overflow-y: hidden;
    }

    .sidebar-section {
        margin: 0;
        display: flex;
        width: 100%;
    }

    .sidebar-category {
        margin: 0;
        width: 100%;
    }

    .sidebar-category-header,
    .sidebar-footer,
    .sidebar-live-indicator {
        display: none !important;
    }

    .sidebar-links {
        flex-direction: row;
        justify-content: space-around;
        width: 100%;
        height: 100%;
        padding: 0 10px;
    }

    .sidebar-link {
        flex-direction: column;
        justify-content: center;
        gap: 4px;
        font-size: 0.65rem;
        padding: 8px 4px;
        border-radius: 8px;
        flex: 1;
        text-align: center;
        white-space: nowrap;
        color: var(--color-text-muted);
    }

    .sidebar-link span {
        display: block;
        /* Ensure text is displayed */
    }

    .sidebar-link.active {
        border-right: none;
        background: transparent;
        color: var(--color-primary);
        box-shadow: none;
        padding-right: 4px;
    }

    .sidebar-link.active svg {
        stroke: var(--color-primary);
        opacity: 1;
    }

    /* Adjust main content */
    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
        padding-bottom: calc(70px + var(--safe-area-bottom));
        /* Active area + safe area */
    }

    /* Hide specific links if they are too many (Optional, but "Coming Soon" prediction category is hidden via hiding header already but links might remain? 
       Actually the structure puts prediction links in another category div.
       The CSS .sidebar-section > .sidebar-category logic above might need adjustment if there are multiple categories.
       Sidebar.js has one section, multiple categories.
    */
    .sidebar-category:nth-child(2) {
        display: none;
        /* Hide Prediction category ("Coming Soon") on mobile to save space */
    }
}

/* Scrollbar styling for sidebar */
.sidebar::-webkit-scrollbar {
    width: 6px;
}

.sidebar::-webkit-scrollbar-track {
    background: transparent;
}

.sidebar::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 3px;
}

.sidebar::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}